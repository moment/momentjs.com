<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />

		<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="/static/css/style.css" />
		<link rel="shortcut icon" href="/static/img/moment-timezone-favicon.png" />

		<title>Moment Timezone | Guides</title>
	</head>

	<body class="is-moment-timezone">
		<nav class="nav">
			<div class="centered">
				<div class="nav-projects">
					<a class="nav-project nav-project-moment " href="/">
						<svg width="40px" height="40px" viewBox="0 0 40 40">
							<ellipse stroke-width="3" cx="20" cy="20" rx="18.5" ry="18.5" fill="0" stroke="#000" />
							<path fill-rule="evenodd" d="M20,36 C28.836556,36 36,28.836556 36,20 C36,11.163444 28.836556,4 20,4 C11.163444,4 4,11.163444 4,20 C4,28.836556 11.163444,36 20,36 Z M20,5 C19.4477153,5 19,5.44994876 19,6.00684547 L19,19 L11.9970301,19 C11.4463856,19 11,19.4438648 11,20 C11,20.5522847 11.4556644,21 11.9953976,21 L21,21 L21,6.00087166 C21,5.4481055 20.5561352,5 20,5 Z"></path>
						</svg>
						Moment
					</a>
					<a class="nav-project nav-project-moment-timezone active" href="/timezone/">
						<svg width="40px" height="40px" viewBox="0 0 40 40">
							<ellipse stroke-width="3" cx="20" cy="20" rx="18.5" ry="18.5" fill="0" stroke="#000" />
							<path fill-rule="evenodd" d="M4.98917024,14.4489557 C4.34944108,16.1782522 4,18.0483179 4,20 C4,28.836556 11.163444,36 20,36 C25.3372103,36 30.0640585,33.3867291 32.9708034,29.3699284 L32.9708034,29.3699284 C32.7542032,29.1158875 32.5851628,28.8136799 32.5213775,28.5419031 L31.2169086,22.9838131 C31.1059526,22.5110509 30.6116318,22.1192596 30.1152853,22.1192596 L28.4921437,22.1192596 C27.9858118,22.1192596 27.3609962,21.7891428 27.0742761,21.3819231 L26.5647528,20.6582629 C25.7154881,19.4520786 25.8505167,17.5995152 26.8651421,16.5187344 L26.9854581,16.3905737 C27.318883,16.0354089 27.9695174,15.6094255 28.4334461,15.4446996 L29.3188401,15.1303252 C29.7803195,14.966469 30.5349459,14.9655993 30.9988746,15.1303252 L31.8842686,15.4446996 C32.3457481,15.6085558 33.1107334,15.8458733 33.5874405,15.9728206 L35.6191135,16.513856 C35.4978108,15.9679684 35.3486212,15.4325805 35.1731165,14.9092644 C34.3263749,14.7238868 33.4055455,14.2746017 32.8663979,13.7497894 L32.3015162,13.1999272 L30.4205895,13.1999271 C29.9369463,13.1999271 29.3014167,13.5302589 29.0223398,13.9377438 L28.6896027,14.4235789 C28.1260613,15.2464153 27.4185905,15.1412987 27.0980851,14.2053481 L27.0412779,14.0394576 C26.882355,13.5753657 27.1532065,13.199927 27.6459111,13.199927 L27.7109116,13.199927 C28.2108557,13.199927 28.6030323,12.796967 28.6030323,12.2998905 C28.6030324,11.7993486 29.0024484,11.399854 29.4951531,11.399854 L30.4522743,11.399854 L30.7448301,11.1150769 C31.0843394,10.7845948 31.0209719,10.3265877 30.5819181,10.1128978 L30.3226304,9.98670097 C29.8842057,9.77331723 29.8835766,9.42655123 30.3226304,9.21286132 L30.5819181,9.08666449 C30.8796701,8.94174691 31.4270561,9.05187418 31.74767,9.13746427 L31.74767,9.13746427 C29.354055,6.5500601 26.1162974,4.75498325 22.4719557,4.1897922 L22.4719557,4.1897922 L23.5257222,5.21678951 C24.2305071,5.90367045 24.0320251,6.65048619 23.0799479,6.88245898 L21.4350099,7.28324666 L20.1865042,8.50003612 C19.4817194,9.18691704 18.4903848,9.06670377 17.9747489,8.2291421 L17.3154121,7.15816288 C16.7989905,6.31932509 17.052872,5.20558795 17.8807174,4.66771105 L17.4094436,4.97391227 C18.1837126,4.47084565 19.4969845,4.06343412 20.4690548,4.00674356 C20.3132511,4.0022581 20.1568893,4 20,4 C16.3409492,4 12.9687755,5.22826668 10.2732905,7.29498839 L9.34598541,8.7 C9.34598541,8.7 11.1732265,9.31523437 11.1732265,9.31523437 C11.6403222,9.47250609 12.1428675,9.22457657 12.3008953,8.74570313 L12.6280585,7.75429687 C12.7837571,7.28248174 13.2647344,7.07917156 13.7009406,7.29947834 L14.8796059,7.89476545 C15.7601466,8.33948421 16.7269068,9.46648951 17.0331889,10.3946197 L17.0830463,10.5457031 C17.2387449,11.0175183 16.9561285,11.4 16.4656183,11.4 L13.8009733,11.4 L12.0189781,13.2 L12.0189781,15.015919 C12.0189781,15.5041835 11.7405414,15.61875 11.3957227,15.2704473 L10.236983,14.1 L9.25216787,14.5973827 C8.8118975,14.8197421 8.45498784,15.3994783 8.45498784,15.9 C8.45498784,16.3970563 8.80456327,17.0118645 9.2107158,17.2580182 L12.9099757,19.5 L13.8947908,19.0026173 C14.3350612,18.7802579 15.0162561,18.8183745 15.4320035,19.0983398 L19.7477607,22.0045816 C21.3842844,23.1066207 21.4906005,25.0341584 19.9878775,26.3076091 L16.4715636,29.2874348 C16.0984226,29.6036452 15.5824366,30.1960211 15.3130082,30.6200946 L13.8009729,33 C13.3088887,33 12.995925,32.6093202 13.1006804,32.1331581 L14.3096882,26.6376532 C14.520817,25.6779738 13.9707442,24.5357431 13.0976108,24.0947654 L12.7223406,23.9052346 C11.8417999,23.4605158 11.4800454,22.3887558 11.9199672,21.5000227 L12.9099757,19.5 L8.41107755,17.9852154 C7.94324417,17.8276953 7.31902279,17.3906968 7.00711679,16.996875 L4.98917024,14.4489557 Z"></path>
						</svg>
						Moment<br/>Timezone
					</a>
                                        <a class="nav-project nav-project-luxon" href="https://moment.github.io/luxon/">
                                          <svg width="40px" height="40px" viewBox="0 0 40 40">
                                            <g transform="translate(1.000000, 1.000000)">
                                              <ellipse stroke-width="3" fill-rule="nonzero" cx="19" cy="19" ry="18.5" rx="18.5"/>
                                              <path fill-rule="evenodd" d="M19,35 C27.836556,35 35,27.836556 35,19 C35,10.163444 27.836556,3 19,3 C10.163444,3 3,10.163444 3,19 C3,27.836556 10.163444,35 19,35 Z M22.104874,17.183315 L22.104874,13.7025247 C23.2618233,13.6333699 24.1590492,12.6882547 24.1590492,11.5587267 L24.1590492,11.143798 C24.1590492,9.94511526 23.1673784,9 21.9632068,9 L16.0604044,9 C14.8326216,9 13.864562,9.96816685 13.864562,11.143798 L13.864562,11.5587267 C13.864562,12.6882547 14.7853991,13.6333699 15.9187372,13.7025247 L15.9187372,17.183315 L10.4645478,25.5510428 C9.87426762,26.4500549 9.85065641,27.5565313 10.370103,28.5016465 C10.8895496,29.4467618 11.8812204,30 12.967336,30 L25.032664,30 C26.1423908,30 27.1104504,29.4467618 27.629897,28.5016465 C28.1493436,27.5565313 28.1257324,26.4500549 27.5354522,25.5510428 L22.104874,17.183315 Z"/>
                                            </g>
                                          </svg>
                                          Luxon</a>
				</div>
				<div class="nav-pages">
						<a href="../" >Home</a>
						<a href="../docs/" >Docs</a>
						<a href="." class="active">Guides</a>
						<a href="../tests/" >Tests</a>
					<a href="https://github.com/moment/moment-timezone/">GitHub</a>
				</div>
			</div>
		</nav>

		




<div class="hero hero-oneline">
	<div class="hero-centered">
		<h1>Moment Timezone Guides</h1>
	</div>
</div>

<div class="docs">
	<div class="docs-nav">
			<div class="docs-nav-section">
				<a class="docs-nav-section-title" href='#/lib-concepts/'>Introductory Concepts</a>
						<a class="docs-nav-item" href="#/lib-concepts/timezone-offset/">Time Zone vs Offset</a>
			</div>
			<div class="docs-nav-section">
				<a class="docs-nav-section-title" href='#/data-calculations/'>Data and Calculations</a>
						<a class="docs-nav-item" href="#/data-calculations/data-source/">Data Source</a>
						<a class="docs-nav-item" href="#/data-calculations/limited-range/">Limited Data Ranges</a>
						<a class="docs-nav-item" href="#/data-calculations/dst-jumps/">Timing of DST Jumps</a>
						<a class="docs-nav-item" href="#/data-calculations/country-zones/">Countries and Zones</a>
			</div>
	</div>

	<div class="docs-content docs-content-guides">
			<article class="docs-section">
				<a class="docs-section-target" id="/lib-concepts/" name="/lib-concepts/"></a>
				<h2 class="docs-section-title"><a href='#/lib-concepts/'>Introductory Concepts</a></h2>
			</article>
				<article class="docs-method">
					<a class="docs-method-target" id="/lib-concepts/intro/"  name="/lib-concepts/intro/"></a>
					<div class="docs-method-prose">
<p>The guides area is designed to help developers learn to better interact with the date and time problem domain, and the Moment Timezone library.
These guides are specifically limited to concepts around time zones and how they're handled by Moment Timezone.</p>
<p>For more general date and time advice, see the <a href="/guides/">core Moment.js guides</a>.</p>
					</div>
				</article>
				<article class="docs-method">
					<a class="docs-method-target" id="/lib-concepts/timezone-offset/"  name="/lib-concepts/timezone-offset/"></a>
						<h3 class="docs-method-title">
							<a href='#/lib-concepts/timezone-offset/'>Time Zone vs Offset</a>
						</h3>
						<a class="docs-method-edit" href="https://github.com/moment/momentjs.com/blob/master/guides/moment-timezone/00-lib-concepts/01-timezone-offset.md" target="_blank">edit</a>
					<div class="docs-method-prose">
<p>Frequently, people are confused about the difference between time zones and UTC offsets.</p>
<p>The core Moment.js documentation has <a href="/guides/#/lib-concepts/timezone-offset/">a guide on this topic</a> that is worth reading first.
Logically it belongs in the guides for Moment Timezone, but it predates this guide section by many years, and moving it would break a lot of links on the internet.</p>
<p><a href="https://stackoverflow.com/tags/timezone/info" target="_blank" >For an in depth description of zones vs offsets, see the Stack Overflow tag.</a></p>
					</div>
				</article>
			<article class="docs-section">
				<a class="docs-section-target" id="/data-calculations/" name="/data-calculations/"></a>
				<h2 class="docs-section-title"><a href='#/data-calculations/'>Data and Calculations</a></h2>
			</article>
				<article class="docs-method">
					<a class="docs-method-target" id="/data-calculations/intro/"  name="/data-calculations/intro/"></a>
					<div class="docs-method-prose">
<p>Moment Timezone enhances the core Moment.js functionality by using pre-compiled time zone data.</p>
<p>This section describes where the data comes from, its limitations, and some quirks of real-world time zone rules.
The technical details of the data format are described in the <a href="/timezone/docs/#/data-formats/">API documentation</a>.</p>
					</div>
				</article>
				<article class="docs-method">
					<a class="docs-method-target" id="/data-calculations/data-source/"  name="/data-calculations/data-source/"></a>
						<h3 class="docs-method-title">
							<a href='#/data-calculations/data-source/'>Data Source</a>
						</h3>
						<a class="docs-method-edit" href="https://github.com/moment/momentjs.com/blob/master/guides/moment-timezone/01-data-calculations/01-data-source.md" target="_blank">edit</a>
					<div class="docs-method-prose">
<p>All time zone data in Moment Timezone comes from the <a href="https://www.iana.org/time-zones">IANA Time Zone Database (&quot;tzdb&quot;)</a>.
Moment Timezone consumes the default data directly from the tzdb, using only the published releases.
The only changes the library makes are to convert the data to a <a href="/timezone/docs/#/data-formats/">custom JSON format</a>, and optionally restrict how many years of data to use.</p>
<p>Any pull requests that make changes to the compiled data files <em>without</em> being derived from a tzdb release will be rejected.</p>
<p>If you think that the data used by Moment Timezone is incorrect, the ideal order of actions to follow is:</p>
<ol>
<li>Make sure you've upgraded to the latest version of the library. We try to closely track the tzdb releases, so upgrading Moment Timezone resolves most cases of out-of-date data.</li>
<li>For data calculation problems, raise an issue in the <a href="https://github.com/moment/moment-timezone/issues">Moment Timezone issue tracker</a>.</li>
<li>For other problems (such as creating a new zone definition), search the <a href="https://mm.icann.org/pipermail/tz/">archives of the tzdb mailing list</a>. It's probable that new data changes or zone definitions are already being discussed, but haven't made it to a published release yet.</li>
<li>If there is nothing in the tzdb archives, send a message to the mailing list at <a href="mailto:tz@iana.org">tz@iana.org</a>.</li>
</ol>
					</div>
				</article>
				<article class="docs-method">
					<a class="docs-method-target" id="/data-calculations/limited-range/"  name="/data-calculations/limited-range/"></a>
						<h3 class="docs-method-title">
							<a href='#/data-calculations/limited-range/'>Limited Data Ranges</a>
						</h3>
						<a class="docs-method-edit" href="https://github.com/moment/momentjs.com/blob/master/guides/moment-timezone/01-data-calculations/02-limited-range.md" target="_blank">edit</a>
					<div class="docs-method-prose">
<p>By default, Moment Timezone includes all the data from the IANA tzdb (see <a href="#/data-calculations/data-source/">Data Source</a>).
This covers past data as far back as the 1800s for some zones, and future data up to the year 2499.
This is usually more data than required by most applications, so there are also some pre-built data bundles available with more limited year ranges.
These are listed on the <a href="/timezone">project homepage</a> and the <a href="/timezone/docs/#/use-it">&quot;Where to use it&quot; documentation</a>
(or you can use <a href="/timezone/docs/#/data-utilities/filter-years/">utility functions</a> to create custom date ranges).</p>
<p>A question that often pops up with these limited bundles is: <strong>What happens for dates outside the range of the data?</strong>
For example, if the loaded data only covers 2012 to 2022, and a date is calculated for 2023, or 2010, what is the calculated UTC offset for that date?</p>
<p>Due to the structure of the <a href="/timezone/docs/#/data-formats/">data format</a>, the time zone rules at the boundaries of the data range are
assumed to extended infinitely into the past and future. This produces the following behaviour:</p>
<ul>
<li>For dates before the start of the data range, the first rule found in the data for that time zone is used.</li>
<li>For dates after the end of the data range, the last rule found in the data for that time zone is used.</li>
</ul>
<p>As an example, let's say a project is using a data file that covers only 2015 to 2025, and wants to calculate the time in Sydney, Australia some time in 2026.</p>
<ul>
<li>The zone <code>Australia/Sydney</code> has a base (standard) offset of <code>UTC+10:00</code> from April to September each year.
Daylight Saving Time (DST) in Sydney applies from October to March, putting the offset at <code>UTC+11:00</code>.</li>
<li>Since DST is active when a year ends, and therefore when the data range ends, the DST offset will be used for all future dates.</li>
<li>Therefore, calculating a date in 2026 from January to March will get an offset of <code>UTC+11:00</code>. This is correct, but only <em>by accident</em>.
Calculating a date after March in 2026 will still get an offset of <code>UTC+11:00</code>, even though the real value should be <code>UTC+10:00</code>.
This is when bugs will start to appear.</li>
</ul>
<p>The best fix for these calculation problems is to make sure you're using a data range that covers all the dates your project needs.</p>
					</div>
				</article>
				<article class="docs-method">
					<a class="docs-method-target" id="/data-calculations/dst-jumps/"  name="/data-calculations/dst-jumps/"></a>
						<h3 class="docs-method-title">
							<a href='#/data-calculations/dst-jumps/'>Timing of DST Jumps</a>
						</h3>
						<a class="docs-method-edit" href="https://github.com/moment/momentjs.com/blob/master/guides/moment-timezone/01-data-calculations/03-dst-jumps.md" target="_blank">edit</a>
					<div class="docs-method-prose">
<p>Time zones that use daylight saving time (DST) vary about when they implement the time jumps.
You shouldn't assume that the rules you're familiar with from a local time zone translate to other zones.</p>
<p>One difference that often catches out developers is that some zones change clocks at midnight.
A good example comes from Jordan (<code>Asia/Amman</code>) in 2021:</p>
<ul>
<li>One second after <code>2021-03-25 23:59:59</code> was <code>2021-03-26 01:00:00</code> (DST started).</li>
<li>One second after <code>2021-10-29 00:59:59</code> was <code>2021-10-29 00:00:00</code> (DST stopped).</li>
</ul>
<p>This creates the situation where midnight at the start of March 26 <strong>didn't happen</strong>, while midnight on October 29 happened twice.</p>
<p>Moment Timezone accounts for these oddities as described in the <a href="/timezone/docs/#/using-timezones/parsing-ambiguous-inputs/">&quot;Parsing Ambiguities&quot; documentation</a>.
But applications can still have bugs when they make other assumptions about time jumps, especially regarding the start of a day.
So be aware that <strong>a day doesn't always start at midnight</strong>.</p>
					</div>
				</article>
				<article class="docs-method">
					<a class="docs-method-target" id="/data-calculations/country-zones/"  name="/data-calculations/country-zones/"></a>
						<h3 class="docs-method-title">
							<a href='#/data-calculations/country-zones/'>Countries and Zones</a>
						</h3>
						<a class="docs-method-edit" href="https://github.com/moment/momentjs.com/blob/master/guides/moment-timezone/01-data-calculations/04-country-zones.md" target="_blank">edit</a>
					<div class="docs-method-prose">
<p>Moment Timezone's <a href="/timezone/docs/#/using-timezones/getting-country-zones/">country-related APIs</a> rely on known associations between zones and countries, which come directly from the IANA tzdb (see <a href="#/data-calculations/data-source/">Data Source</a>).</p>
<p>The mapping of zones to countries exposes a subtle nuance in the tzdb structure that doesn't match a lot of people's mental model of the data.
This can sometimes catch out users who see something unexpected in the country data and assume it must be a bug.</p>
<p>The key principle is that zone identifiers like <code>Europe/Berlin</code> and <code>Asia/Tokyo</code> are <strong>labels</strong> for regions of the world where the clocks have agreed since 1970.
These regions are not specifically tied to a single country, and can span multiple countries if needed.
This would be equally true if the labels didn't have city names at all, but instead were named something like <code>Europe/Zone073</code>.
The city name is simply an aid to users to make the database more human-readable.</p>
<p>The tzdb defines which countries use each time zone.
But because the zones are named after cities, this can be easily misinterpreted to mean that a city is in multiple countries, which is incorrect.</p>
<p>As an example, let's look at a line from the source <a href="https://data.iana.org/time-zones/data/zone1970.tab"><code>zone1970.tab</code></a>:</p>
<pre><code>CZ,SK   +5005+01426 Europe/Prague
</code></pre>
<p>This line is <strong>not</strong> indicating that the city of Prague is in both Czechia and Slovakia.
It is saying that a time zone region—where clocks have agreed since 1970—can be used in both Czechia and Slovakia, and happens to have the <em>label</em> of <code>Europe/Prague</code>.</p>
<p>Moment Timezone also includes the backwards-compatibility data listed in the older (and deprecated) <a href="https://data.iana.org/time-zones/data/zone.tab"><code>zone.tab</code></a>.
This includes the line:</p>
<pre><code>SK  +4809+01707 Europe/Bratislava
</code></pre>
<p>The <code>Europe/Bratislava</code> zone is an alias of <code>Europe/Prague</code>, so there's no difference in the processed time zone data.</p>
<p>All this means that the results from Moment Timezone's country APIs can give some seemingly-unintuitive results that are correct according to the data model:</p>
<pre><code class="language-js">moment.tz.zonesForCountry('CZ'); // [&quot;Europe/Prague&quot;]
moment.tz.zonesForCountry('SK'); // [&quot;Europe/Bratislava&quot;, &quot;Europe/Prague&quot;]

moment.tz.zone('Europe/Bratislava').countries(); // [&quot;SK&quot;]
moment.tz.zone('Europe/Prague').countries();     // [&quot;CZ&quot;, &quot;SK&quot;]
</code></pre>
					</div>
				</article>
	</div>

</div>


		<footer>
			<p>Moment.js is freely distributable under the terms of the MIT license.</p>
		</footer>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script src="/static/js/global.js"></script>
			<script src="/static/js/docs.js"></script>
	</body>
</html>
